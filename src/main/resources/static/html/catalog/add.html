<meta charset="UTF-8">
<div class="am-popup-inner">
    <div class="am-popup-hd">
        <h4 class="am-popup-title">新增分类</h4>
        <span data-am-modal-close
              class="am-close">&times;</span>
    </div>
    <div class="am-popup-bd">
        <form action="/catalogs/save" class="am-form" method="post" id="doc-vld-msg" data-am-validator>
            <fieldset>
                <div class="am-form-group">
                    <label for="doc-vld-name-2-1">分类编号：</label>
                    <input type="number" id="doc-vld-name-2-1" minlength="2" name="uuid" placeholder="分类编号（至少 2 个字符）" required/>
                </div>

                <div class="am-form-group">
                    <label for="doc-vld-email-2-1">分类名称：</label>
                    <input type="text" id="doc-vld-email-2-1" name="name" data-validation-message="请输入分类名称"
                           placeholder="分类名称" required/>
                </div>
            </fieldset>
        </form>
    </div>
    <div class="am-modal-actions-group">
        <button class="am-btn am-btn-secondary am-btn-block" onclick="submitForm()">提交</button>
    </div>
</div>
<script>
    submitForm = function () {
        var validResult = $('#doc-vld-msg').validator('isFormValid');
        if (validResult) {
            $('#doc-vld-msg').ajaxSubmit(function (result) {
                console.log(result);
                if (result.code == 200) {
                    alert("操作成功，我要刷新表格了！");
                    closeModal();
                }
            },"json");
        }
    };
</script>